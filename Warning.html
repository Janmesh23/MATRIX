<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security Warning</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'JetBrains Mono', monospace;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }

        @keyframes glow {
            0%, 100% { filter: drop-shadow(0 0 15px rgba(239, 68, 68, 0.5)); }
            50% { filter: drop-shadow(0 0 25px rgba(239, 68, 68, 0.7)); }
        }

        .warning-box {
            animation: pulse 2s infinite;
        }

        #Layer_1 {
            height: 120px;
            width: 120px;
            display: block;
            margin: auto;
            animation: glow 2s infinite;
        }

        .cyber-button {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .cyber-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.1),
                transparent
            );
            transition: 0.5s;
        }

        .cyber-button:hover::before {
            left: 100%;
        }
    </style>
</head>

<body class="bg-[#0a0a16] text-gray-300 flex items-center justify-center min-h-screen p-4">
    <div class="warning-box bg-gray-900/90 backdrop-blur-xl p-8 rounded-xl shadow-2xl border border-red-500/30 max-w-2xl w-full">
        <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 111.54">
            <title>warning</title>
            <path class="cls-1 fill-red-600"
                d="M2.35,84.42,45.28,10.2l.17-.27h0A23,23,0,0,1,52.5,2.69,17,17,0,0,1,61.57,0a16.7,16.7,0,0,1,9.11,2.69,22.79,22.79,0,0,1,7,7.26q.19.32.36.63l42.23,73.34.24.44h0a22.48,22.48,0,0,1,2.37,10.19,17.63,17.63,0,0,1-2.17,8.35,15.94,15.94,0,0,1-6.93,6.6c-.19.1-.39.18-.58.26a21.19,21.19,0,0,1-9.11,1.75v0H17.61c-.22,0-.44,0-.65,0a18.07,18.07,0,0,1-6.2-1.15A16.42,16.42,0,0,1,3,104.24a17.53,17.53,0,0,1-3-9.57,23,23,0,0,1,1.57-8.74,7.66,7.66,0,0,1,.77-1.51Z" />
            <path class="cls-2 fill-yellow-500"
                d="M9,88.75,52.12,14.16c5.24-8.25,13.54-8.46,18.87,0l42.43,73.69c3.39,6.81,1.71,16-9.33,15.77H17.61C10.35,103.8,5.67,97.43,9,88.75Z" />
            <path class="cls-3 fill-gray-900"
                d="M57.57,83.78A5.53,5.53,0,0,1,61,82.2a5.6,5.6,0,0,1,2.4.36,5.7,5.7,0,0,1,2,1.3,5.56,5.56,0,0,1,1.54,5,6.23,6.23,0,0,1-.42,1.35,5.57,5.57,0,0,1-5.22,3.26,5.72,5.72,0,0,1-2.27-.53A5.51,5.51,0,0,1,56.28,90a5.18,5.18,0,0,1-.36-1.27,5.83,5.83,0,0,1-.06-1.31h0a6.53,6.53,0,0,1,.57-2,4.7,4.7,0,0,1,1.14-1.56Zm8.15-10.24c-.19,4.79-8.31,4.8-8.49,0-.82-8.21-2.92-29.34-2.86-37.05.07-2.38,2-3.79,4.56-4.33a12.83,12.83,0,0,1,5,0c2.61.56,4.65,2,4.65,4.44v.24L65.72,73.54Z" />
        </svg>

        <div class="text-center mt-6">
            <h1 class="text-4xl font-bold text-red-500 mb-4">SECURITY ALERT</h1>
            <div class="bg-red-950/30 border border-red-500/30 rounded-lg p-4 mb-6">
                <p class="text-xl text-gray-100 mb-2">Potential security threat detected</p>
                <p class="text-gray-400">This website has been flagged as suspicious. Your data may be at risk.</p>
            </div>
        </div>

        <div id="countdown" class="text-center mb-6 text-cyan-400 text-xl">Redirecting in 10 seconds...</div>

        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <button id="leave-site"
                class="cyber-button bg-red-600/80 hover:bg-red-700 text-white px-8 py-3 rounded-lg text-lg font-bold transition border border-red-500/50 w-full sm:w-auto">
                Leave Now
            </button>
            <button id="trust-site"
                class="cyber-button bg-gray-700/50 hover:bg-gray-700 text-gray-300 px-8 py-3 rounded-lg text-lg font-bold transition border border-gray-600/50 w-full sm:w-auto">
                I Trust This Site
            </button>
        </div>
    </div>

    <script>
        let countdown = 10;
        const countdownElement = document.getElementById("countdown");
        const interval = setInterval(() => {
            countdown--;
            countdownElement.textContent = `Redirecting in ${countdown} seconds...`;

            if (countdown <= 0) {
                clearInterval(interval);
                window.parent.postMessage("block-site", "*");
            }
        }, 1000);

        document.getElementById("trust-site").addEventListener("click", () => {
            clearInterval(interval);
            window.parent.postMessage("trust-site", "*");
            chrome.storage.local.get({ trustedSites: [] }, (data) => {
                let trustedSites = data.trustedSites;
                trustedSites.push(new URL(document.referrer).hostname);
                chrome.storage.local.set({ trustedSites });
                window.location.href = document.referrer; // Allow user to continue
            });
        });

        document.getElementById("leave-site").addEventListener("click", () => {
            clearInterval(interval);
            window.parent.postMessage("block-site", "*");
        });
    </script>
</body>
</html>
